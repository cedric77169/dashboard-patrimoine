import { Card, CardContent } from "@/components/ui/card";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import { Input } from "@/components/ui/input";
import { useState } from "react";

export default function DashboardPatrimoine() {
  const [totalNet, setTotalNet] = useState(243000);
  const [credits, setCredits] = useState([
    { id: 1, nom: "Crédit Immo", capital: 180000, reste: 95000, mensualité: 860 },
    { id: 2, nom: "Crédit Auto", capital: 20000, reste: 6000, mensualité: 320 },
  ]);
  const [investissements, setInvestissements] = useState([
    { id: 1, type: "Bourse", montant: 18000 },
    { id: 2, type: "Assurance-vie", montant: 35000 },
    { id: 3, type: "Crypto", montant: 9000 },
  ]);

  return (
    <div className="p-6 grid gap-6">
      <h1 className="text-2xl font-bold">Dashboard de Gestion de Patrimoine</h1>

      <Card>
        <CardContent className="p-4">
          <h2 className="text-xl font-semibold mb-2">Vue Globale</h2>
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div>
              <p className="text-sm">Patrimoine Net</p>
              <p className="text-lg font-bold">{totalNet.toLocaleString()} €</p>
            </div>
            <div>
              <p className="text-sm">Total Crédits</p>
              <p className="text-lg font-bold">
                {credits.reduce((s, c) => s + c.reste, 0).toLocaleString()} €
              </p>
            </div>
            <div>
              <p className="text-sm">Investissements</p>
              <p className="text-lg font-bold">
                {investissements.reduce((s, i) => s + i.montant, 0).toLocaleString()} €
              </p>
            </div>
            <div>
              <p className="text-sm">Mensualités</p>
              <p className="text-lg font-bold">
                {credits.reduce((s, c) => s + c.mensualité, 0).toLocaleString()} € /mois
              </p>
            </div>
          </div>
        </CardContent>
      </Card>

      <Tabs defaultValue="credits">
        <TabsList>
          <TabsTrigger value="credits">Crédits</TabsTrigger>
          <TabsTrigger value="investissements">Investissements</TabsTrigger>
        </TabsList>

        <TabsContent value="credits">
          <div className="grid gap-4 mt-4">
            {credits.map((credit) => (
              <Card key={credit.id}>
                <CardContent className="p-4">
                  <div className="flex justify-between items-center">
                    <div>
                      <h3 className="font-semibold">{credit.nom}</h3>
                      <p className="text-sm text-gray-500">
                        Capital restant : {credit.reste.toLocaleString()} €
                      </p>
                      <p className="text-sm text-gray-500">
                        Mensualité : {credit.mensualité.toLocaleString()} €
                      </p>
                    </div>
                    <Progress value={((credit.capital - credit.reste) / credit.capital) * 100} className="w-40" />
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>
        </TabsContent>

        <TabsContent value="investissements">
          <div className="grid gap-4 mt-4">
            {investissements.map((inv) => (
              <Card key={inv.id}>
                <CardContent className="p-4">
                  <div className="flex justify-between items-center">
                    <h3 className="font-semibold">{inv.type}</h3>
                    <p className="font-bold">{inv.montant.toLocaleString()} €</p>
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>
        </TabsContent>
      </Tabs>
    </div>
  );
}
